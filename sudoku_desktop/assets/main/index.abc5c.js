window.__require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Box:[function(e,t){"use strict";cc._RF.push(t,"18523+V+AhHHZTK7KosY8D5","Box");var n=i(e("../constants")),o=i(e("../libs/helpers"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{valueText:cc.Label,memoFrame:cc.Node,memoTexts:[cc.Label],memoMode:{get:function(){return this._memoMode},set:function(e){this._memoMode=e}},value:{get:function(){return this._value},set:function(e){this._value=e,this.valueText.string=o.default.isCInput(this._value)?"":this._value+""}},memoValues:{get:function(){return this._memoValues},set:function(e){this._memoValues=e;for(var t=0;t<4;t++){var n=this._memoValues[t]||-1;this.memoTexts[t].string=o.default.isCInput(n)?"":n+""}}},isFixed:{get:function(){return this._isFixed},set:function(e){this._isFixed=e,this.changeTextColor()}},isHighlight:{get:function(){return this._isHighlight},set:function(e){this._isHighlight=e,this.changeTextColor()}},isConflicted:{get:function(){return this._isConflicted},set:function(e){this._isConflicted=e}},isCompleted:{get:function(){return this._isCompleted},set:function(e){this._isCompleted=e}}},onLoad:function(){this.value=-1,this.memoValues=[],this.memoMode=!1,this.isFixed=!1,this.memoFrame.active=!1,this.memoTexts.forEach(function(e){e.string="",e.node.color=cc.color(n.default.colors.text.boxes.memo)}),this.node.color=cc.color(n.default.colors.bgs.boxes.normal),this.node.on(cc.Node.EventType.TOUCH_START,this.onClicked,this)},start:function(){},inputValue:function(e,t){if(this.memoMode!=t&&this.switchMode(t),this.memoMode)if(o.default.isCInput(e))this.memoValues=[];else{var n=[].concat(this.memoValues);n.includes(e)?n.splice(n.indexOf(e),1):n.length<3&&n.push(e),this.memoValues=n}else this.value===e?this.value=-1:this.value=e},switchMode:function(e){this.memoMode=e,this.memoFrame.active=this.memoMode,this.valueText.node.active=!this.memoMode,this.value=-1,this.memoValues=[]},select:function(){this.node.color=cc.color(n.default.colors.bgs.boxes.selected)},deselect:function(){this.node.color=cc.color(n.default.colors.bgs.boxes.normal)},updateBgColor:function(){this.node.color=cc.color(n.default.colors.bgs.boxes[this._isConflicted?"conflicted":this._isCompleted?"completed":"normal"])},changeTextColor:function(){this.valueText.node.color=cc.color(n.default.colors.text.boxes[this._isHighlight?"highlighted":this._isFixed?"fixed":"filled"])},onClicked:function(){this.isFixed||this.node.emit("clicked",this)}}),cc._RF.pop()},{"../constants":"constants","../libs/helpers":"helpers"}],DigitInput:[function(e,t){"use strict";cc._RF.push(t,"c59ddVTWQFKEI1Kyl/M+vsv","DigitInput");var n=i(e("../constants")),o=i(e("../libs/helpers"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{value:cc.Integer},onLoad:function(){this.isC=o.default.isCInput(this.value),this.button=this.getComponent(cc.Button),this.label=this.button.target.getComponentInChildren(cc.Label),this.label.string=this.isC?"C":this.value+"",this.memoMode=!1,this.isSelected=!1,this.button.node.on("click",this.onClicked,this),this.updateButtonDisplay()},start:function(){},setSelected:function(e){this.isSelected=e,this.updateButtonDisplay()},setMemoMode:function(e){this.memoMode=e,this.updateButtonDisplay()},updateButtonDisplay:function(){this.label.node.scale=this.memoMode?.6:1;var e=n.default.colors.bgs[this.isC?"ce":"digits"][this.isSelected?"selected":"normal"],t=n.default.colors.text.digits[this.memoMode?"memoMode":"digitMode"][this.isSelected?"selected":"normal"];this.button.normalColor=cc.color(e),this.button.hoverColor=cc.color(e),this.label.node.color=cc.color(t)},onClicked:function(){this.node.emit("digitClicked",this)}}),cc._RF.pop()},{"../constants":"constants","../libs/helpers":"helpers"}],StageButton:[function(e,t){"use strict";cc._RF.push(t,"b6971A4mA5FTbbMmG1XkPVH","StageButton"),cc.Class({extends:cc.Component,properties:{button:cc.Button,label:cc.Label},onLoad:function(){},start:function(){},setValue:function(e){this.value=e,this.label.string=e+1+""}}),cc._RF.pop()},{}],constants:[function(e,t,n){"use strict";cc._RF.push(t,"d318a/Cn8VCf61XpMUJhf0r","constants"),n.__esModule=!0,n.default=void 0,n.default={GAMEPLAY_RNG_SEED:"GCT_SUDOKU",GAMEPLAY_DIFFICULTY:4,GAMEPLAY_STAGE_PER_DIFFICULTY:250,GAMEPLAY_INIT_DIFFICULTY:35,GAMEPLAY_DIFFICULTY_RANDOM_MODIFIER:3,GAMEPLAY_DIFFICULTY_INCREMENT:6,colors:{text:{digits:{digitMode:{normal:"#484848",selected:"#F47302"},memoMode:{normal:"#285893",selected:"#3BAAFF"}},memo:{normal:"#000000",selected:"#517BE5"},boxes:{fixed:"#111111",filled:"#C3A07A",highlighted:"#FF3500",memo:"#0C458F"}},bgs:{digits:{normal:"#EDD795",selected:"#444444"},ce:{normal:"#9AC5FE",selected:"#444444"},memo:{normal:"#FFFFFF",selected:"#444444"},boxes:{normal:"#EAD6B4",selected:"#FF0000",completed:"#FEFD99",conflicted:"#DBDBDB"}},levels:["#E4C932","#FA6D1A","#FE496F","#8168F4"]},DEBUG_MODE:!1,SHOW_DEBUG_ANSWER:!0},t.exports=n.default,cc._RF.pop()},{}],dataMgr:[function(e,t){"use strict";cc._RF.push(t,"1a550A7zrVEdbZmum9z7mZv","dataMgr");var n=r(e("./libs/sudoku")),o=r(e("./libs/random-seed")),i=r(e("./constants"));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){this._currentLevel=0,this._currentStage=0}e.generateLevel=function(e,t){var r=o.default.create(i.default.GAMEPLAY_RNG_SEED+"_"+(e+1)+"_"+(t+1)),s=r.intBetween(-i.default.GAMEPLAY_DIFFICULTY_RANDOM_MODIFIER,i.default.GAMEPLAY_DIFFICULTY_RANDOM_MODIFIER);return n.default.generate(i.default.GAMEPLAY_INIT_DIFFICULTY-e*i.default.GAMEPLAY_DIFFICULTY_INCREMENT+s,r)};var t=e.prototype;return t.setStage=function(e,t){this._currentLevel=e,this._currentStage=t},t.generateCurrentStage=function(){return e.generateLevel(this._currentLevel,this._currentStage)},t.isLastStage=function(){return this._currentLevel>=i.default.GAMEPLAY_DIFFICULTY-1&&this._currentStage>=i.default.GAMEPLAY_STAGE_PER_DIFFICULTY-1},t.setNextStage=function(){if(!this.isLastStage()){var e=this._currentStage+1,t=this._currentLevel+(e>=i.default.GAMEPLAY_STAGE_PER_DIFFICULTY?1:0);return e%=i.default.GAMEPLAY_STAGE_PER_DIFFICULTY,this.setStage(t,e)}},e}();t.exports=new s,cc._RF.pop()},{"./constants":"constants","./libs/random-seed":"random-seed","./libs/sudoku":"sudoku"}],helpers:[function(e,t){"use strict";cc._RF.push(t,"eeb8d3//RxJp7sdnbjhcGRJ","helpers"),t.exports.isCInput=function(e){return!!Number.isNaN(e)||e<1||e>9},t.exports.toNumberValue=function(e){var t=Number.parseInt(e);return Number.isNaN(t)?-1:t},t.exports.getBoxRegion=function(e,t){return 3*~~(t/3)+~~(e/3)},t.exports.getBoxRegionIndex=function(e,t){return t%3*3+e%3},t.exports.getBoxPositionInRegion=function(e,t){return[3*~~(t/3)+~~(e/3),t%3*3+e%3]},cc._RF.pop()},{}],ingameBoardCtor:[function(e,t){"use strict";cc._RF.push(t,"f6a0bqNrx5BW4LxKId7FSTa","ingameBoardCtor");var n=i(e("./constants")),o=i(e("./libs/helpers"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{boxPrefab:cc.Prefab,selectedBox:{get:function(){return this._selectedBox}}},onLoad:function(){this._selectedBox=null,this.board=[];for(var e=0;e<9;e++){for(var t=[],n=0;n<9;n++){var i=cc.instantiate(this.boxPrefab).getComponent("Box");i.node.parent=this.node,i.node.x=n*(i.node.width+3)+3*~~(n/3)-4*(i.node.width+3)-3,i.node.y=-e*(i.node.height+3)-3*~~(e/3)+4*(i.node.height+3)+3,t.push(i),i.ingameBoard=this,i.value=o.default.toNumberValue(this.ingameController.boardGrid[e][n]),i.isFixed="."!==this.ingameController.boardGrid[e][n],i.node.on("clicked",this.boxClicked.bind(this))}this.board.push(t)}},start:function(){this.checkBoxesStatus()},_checkConfict:function(){this.board.forEach(function(e){e.forEach(function(e){e.isConflicted=!1})}),this.isConflictFree=!0,n.default.DEBUG_MODE&&cc.log("==========================="),n.default.DEBUG_MODE&&cc.log("--- Checking conflicts ----"),n.default.DEBUG_MODE&&cc.log("===========================");for(var e=0;e<9;e++)for(var t=this.board[e],i=0;i<9;i++){var r=t[i];if(n.default.DEBUG_MODE&&cc.log("--- Checking box: "+(i+1)+"x"+(e+1)),!t[i].isConflicted&&!o.default.isCInput(r.value)){n.default.DEBUG_MODE&&cc.log("--- Checking box first passed ---"),n.default.DEBUG_MODE&&cc.log("== Row check ==");for(var s=i+1;s<9;s++){var a=t[s];a.value===r.value&&(a.isConflicted=!0,r.isConflicted=!0,this.isConflictFree=!1,n.default.DEBUG_MODE&&cc.error("Checking box conflicted: "+(s+1)+"x"+(e+1)))}n.default.DEBUG_MODE&&cc.log("== Column check ==");for(var c=e+1;c<9;c++){var u=this.board[c][i];u.value===r.value&&(u.isConflicted=!0,r.isConflicted=!0,this.isConflictFree=!1,n.default.DEBUG_MODE&&cc.error("Checking box conflicted: "+(i+1)+"x"+(c+1)))}n.default.DEBUG_MODE&&cc.log("== Region check ==");for(var l=o.default.getBoxRegion(i,e),d=o.default.getBoxRegionIndex(i,e)+1;d<9;d++){var h=o.default.getBoxPositionInRegion(d,l),f=this.board[h[0]][h[1]];f.value===r.value&&(f.isConflicted=!0,r.isConflicted=!0,this.isConflictFree=!1,n.default.DEBUG_MODE&&cc.error("Checking box conflicted: "+(h[1]+1)+"x"+(h[0]+1)))}}}},_checkCompleted:function(){this.board.forEach(function(e){e.forEach(function(e){e.isCompleted=!1})}),this.isFullyCompleted=!0,n.default.DEBUG_MODE&&cc.log("============================"),n.default.DEBUG_MODE&&cc.log("--- Checking completion ----"),n.default.DEBUG_MODE&&cc.log("============================");var e=[],t=[],i=[];n.default.DEBUG_MODE&&cc.log(" == ROWS CHECK!");for(var r=0;r<9;r++){e[r]=!0;for(var s=[],a=0;a<9;a++){if(o.default.isCInput(this.board[r][a].value)||s.includes(this.board[r][a].value)){e[r]=!1,this.isFullyCompleted=!1,n.default.DEBUG_MODE&&cc.log("Row "+(r+1)+" failed at pos "+(a+1));break}s.push(this.board[r][a].value)}}n.default.DEBUG_MODE&&cc.log(" == COLUMN CHECK!");for(var c=0;c<9;c++){t[c]=!0;for(var u=[],l=0;l<9;l++){if(o.default.isCInput(this.board[l][c].value)||u.includes(this.board[l][c].value)){t[c]=!1,this.isFullyCompleted=!1,n.default.DEBUG_MODE&&cc.log("Column "+(c+1)+" failed at pos "+(l+1));break}u.push(this.board[l][c].value)}}for(var d=0;d<9;d++){i[d]=!0;for(var h=[],f=0;f<9;f++){var g=o.default.getBoxPositionInRegion(f,d);if(o.default.isCInput(this.board[g[1]][g[0]].value)||h.includes(this.board[g[1]][g[0]].value)){i[d]=!1,this.isFullyCompleted=!1,n.default.DEBUG_MODE&&cc.log("Resion "+(d+1)+" failed at pos "+(f+1));break}h.push(this.board[g[1]][g[0]].value)}}for(var _=0;_<9;_++)for(var p=0;p<9;p++)this.board[_][p].isCompleted=e[_]||t[p]||i[o.default.getBoxRegion(_,p)]},checkBoxesStatus:function(){this._checkCompleted(),this._checkConfict(),this.board.forEach(function(e){e.forEach(function(e){e.updateBgColor()})}),this.isFullyCompleted&&this.isConflictFree&&this.ingameController.clearGame()},haveBoxSelected:function(){return null!==this._selectedBox},setSelectedBoxValue:function(e,t){this.haveBoxSelected()&&this._selectedBox.inputValue(e,t)},deselectBox:function(){this.haveBoxSelected()&&(this._selectedBox.deselect(),this._selectedBox=null)},hightlightValue:function(e){e&&(o.default.isCInput()||this.board.forEach(function(t){t.forEach(function(t){t.value===e&&(t.isHighlight=!0)})}))},dehighlight:function(){this.board.forEach(function(e){e.forEach(function(e){e.isHighlight=!1})})},boxClicked:function(e){this.ingameInput.isHavingInput()?(e.inputValue(this.ingameInput.getInputValue(),this.ingameInput.memoMode),this.ingameInput.deselectCurrentInput(),this.checkBoxesStatus()):e!==this._selectedBox?(this.deselectBox(),this._selectedBox=e,this._selectedBox.select()):this.deselectBox()}}),cc._RF.pop()},{"./constants":"constants","./libs/helpers":"helpers"}],ingameInputCtor:[function(e,t){"use strict";cc._RF.push(t,"71823jnpu5J45uK5ujdp+PL","ingameInputCtor");var n=i(e("./components/DigitInput")),o=i(e("./constants"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{digitInputs:[n.default],memoButton:cc.Button,checkAnswerButton:cc.Button,menuButton:cc.Button},onLoad:function(){var e=this;this._selectedDigit=null,this.digitInputs.forEach(function(t){t.node.on("digitClicked",e.onDigitClicked,e)}),this.memoMode=!1,this.memoTextLabel=this.memoButton.target.getComponentInChildren(cc.Label),this.memoButton.node.on("click",this.onMemoClicked,this),this.checkAnswerButton.node.on("click",this.onCheckAnswerClicked,this),this.menuButton.node.on("click",this.onMenuClicked,this)},start:function(){},isHavingInput:function(){return null!==this._selectedDigit},getInputValue:function(){return this.isHavingInput()?this._selectedDigit.value:null},deselectCurrentInput:function(){this.isHavingInput()&&(this._selectedDigit.setSelected(!1),this._selectedDigit=null,this.ingameBoard.dehighlight())},selectInput:function(e){this._selectedDigit=e,this._selectedDigit.setSelected(!0),this.ingameBoard.hightlightValue(this.getInputValue())},switchMemoMode:function(){var e=this;this.memoMode=!this.memoMode,this.memoButton.normalColor=cc.color(o.default.colors.bgs.memo[this.memoMode?"selected":"normal"]),this.memoButton.hoverColor=cc.color(o.default.colors.bgs.memo[this.memoMode?"selected":"normal"]),this.memoTextLabel.node.color=cc.color(o.default.colors.text.memo[this.memoMode?"selected":"normal"]),this.digitInputs.forEach(function(t){t.setMemoMode(e.memoMode)})},onDigitClicked:function(e){this.ingameBoard.haveBoxSelected()?(this.ingameBoard.setSelectedBoxValue(e.value,this.memoMode),this.ingameBoard.deselectBox(),this.ingameBoard.checkBoxesStatus()):e!==this._selectedDigit?(this.deselectCurrentInput(),this.selectInput(e)):this.deselectCurrentInput()},onMemoClicked:function(){this.switchMemoMode()},onCheckAnswerClicked:function(){},onMenuClicked:function(){this.ingameController.pauseGame()}}),cc._RF.pop()},{"./components/DigitInput":"DigitInput","./constants":"constants"}],ingamePopupCtor:[function(e,t){"use strict";cc._RF.push(t,"1d47e/E7GNBObHoKsUc02Bu","ingamePopupCtor");var n=r(e("./constants")),o=r(e("./dataMgr")),i=r(e("./libs/sudoku"));function r(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{overlay:cc.Node,pausePopup:cc.Node,clearPopup:cc.Node,nextLevelButton:cc.Node,debugLabel:cc.Label},onLoad:function(){this.hide()},start:function(){n.default.SHOW_DEBUG_ANSWER&&(this.debugLabel.string=i.default.solve(this.ingameController.boardInfo))},show:function(e){this.overlay.active=!0,"pause"===e?this.pausePopup.active=!0:"clear"===e&&(this.nextLevelButton.active=!o.default.isLastStage(),this.clearPopup.active=!0)},hide:function(){this.overlay.active=!1,this.pausePopup.active=!1,this.clearPopup.active=!1},onRestartClicked:function(){this.ingameController.restart()},onNextLevelClicked:function(){this.ingameController.nextLevel()},onResumeClicked:function(){this.hide()},onLevelSelectionClicked:function(){this.ingameController.goToLevelSelection()},onQuitClicked:function(){this.ingameController.goToMainMenu()}}),cc._RF.pop()},{"./constants":"constants","./dataMgr":"dataMgr","./libs/sudoku":"sudoku"}],ingameSceneCtor:[function(e,t){"use strict";cc._RF.push(t,"5a07bF/NkdMnJDGMvu07Ca5","ingameSceneCtor");var n=a(e("./dataMgr")),o=a(e("./libs/sudoku")),i=a(e("./ingameBoardCtor")),r=a(e("./ingameInputCtor")),s=a(e("./ingamePopupCtor"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{ingameBoard:i.default,ingameInput:r.default,ingamePopup:s.default},onLoad:function(){this.ingameBoard.ingameController=this,this.ingameInput.ingameController=this,this.ingamePopup.ingameController=this,this.ingameBoard.ingameInput=this.ingameInput,this.ingameInput.ingameBoard=this.ingameBoard,this.boardInfo=n.default.generateCurrentStage(),this.boardGrid=o.default.board_string_to_grid(this.boardInfo)},start:function(){},pauseGame:function(){this.ingamePopup.show("pause")},clearGame:function(){this.ingamePopup.show("clear")},restart:function(){cc.director.loadScene("ingame")},nextLevel:function(){n.default.setNextStage(),cc.director.loadScene("ingame")},goToMainMenu:function(){cc.director.loadScene("landing")},goToLevelSelection:function(){cc.director.loadScene("levelSelection")}}),cc._RF.pop()},{"./dataMgr":"dataMgr","./ingameBoardCtor":"ingameBoardCtor","./ingameInputCtor":"ingameInputCtor","./ingamePopupCtor":"ingamePopupCtor","./libs/sudoku":"sudoku"}],landingSceneCtor:[function(e,t){"use strict";var n;cc._RF.push(t,"f426fkg+Y1BYL0D0c19X2Ud","landingSceneCtor"),(n=e("./dataMgr"))&&n.__esModule,cc.Class({extends:cc.Component,properties:{},start:function(){},onPlayClicked:function(){cc.director.loadScene("levelSelection")}}),cc._RF.pop()},{"./dataMgr":"dataMgr"}],levelSelectionSceneCtor:[function(e,t){"use strict";cc._RF.push(t,"035a7DMVK5BFacblUS9t8Sf","levelSelectionSceneCtor");var n=i(e("./constants")),o=i(e("./dataMgr"));function i(e){return e&&e.__esModule?e:{default:e}}i(e("./components/StageButton")),cc.Class({extends:cc.Component,properties:{levelButtons:[cc.Button],stageButtonFrame:cc.Node,stageButtonPrefab:cc.Prefab,backPageButton:cc.Button,nextPageButton:cc.Button,backButton:cc.Button,pageText:cc.Label},onLoad:function(){var e=this;this.STAGE_PER_SPACE=25,this.TOTAL_PAGE=~~(n.default.GAMEPLAY_STAGE_PER_DIFFICULTY/this.STAGE_PER_SPACE),this._currentPage=0,this._currentLevel=0,this.levelButtons.forEach(function(t){t.node.on("click",e.onLevelClick,e)}),this.backPageButton.node.on("click",this.onBackPageClicked,this),this.nextPageButton.node.on("click",this.onNextPageClicked,this),this.backButton.node.on("click",this.onBackClicked,this),this.stageButtons=[];for(var t=0;t<5;t++)for(var i=0;i<5;i++){var r=cc.instantiate(this.stageButtonPrefab).getComponent("StageButton");r.node.parent=this.stageButtonFrame,r.node.x=i*(r.node.width+10)-2*(r.node.width+10),r.node.y=-t*(r.node.height+10)+2*(r.node.height+10),r.setValue(5*t+i),this.stageButtons.push(r),r.node.on("click",this.onStageButtonClicked,this)}this.switchLevel(o.default._currentLevel),this._currentPage=~~(o.default._currentStage/this.STAGE_PER_SPACE),this.updateStagePage()},start:function(){},switchLevel:function(e){var t=this;this.levelButtons[this._currentLevel].normalColor=cc.color("#FFFFFF"),this.levelButtons[this._currentLevel].hoverColor=cc.color("#FFFFFF"),this._currentLevel=e,this.levelButtons[this._currentLevel].normalColor=cc.color(n.default.colors.levels[this._currentLevel%n.default.colors.levels.length]),this.levelButtons[this._currentLevel].hoverColor=cc.color(n.default.colors.levels[this._currentLevel%n.default.colors.levels.length]),this.stageButtons.forEach(function(e){e.button.normalColor=cc.color(n.default.colors.levels[t._currentLevel%n.default.colors.levels.length]),e.button.hoverColor=cc.color(n.default.colors.levels[t._currentLevel%n.default.colors.levels.length])})},updateStagePage:function(){var e=this;this.pageText.string=this._currentPage+1+"/"+this.TOTAL_PAGE,this.stageButtons.forEach(function(t){t.setValue(e._currentPage*e.STAGE_PER_SPACE+e.stageButtons.indexOf(t))})},onLevelClick:function(e){var t=this.levelButtons.indexOf(e);t>=0&&t!=this._currentLevel&&(this.switchLevel(t),this._currentPage=0,this.updateStagePage())},onBackPageClicked:function(){var e=Math.max(0,this._currentPage-1);e!==this._currentPage&&(this._currentPage=e,this.updateStagePage())},onNextPageClicked:function(){var e=Math.min(this.TOTAL_PAGE-1,this._currentPage+1);e!==this._currentPage&&(this._currentPage=e,this.updateStagePage())},onBackClicked:function(){cc.director.loadScene("landing")},onStageButtonClicked:function(e){o.default.setStage(this._currentLevel,e.getComponent("StageButton").value),cc.director.loadScene("ingame")}}),cc._RF.pop()},{"./components/StageButton":"StageButton","./constants":"constants","./dataMgr":"dataMgr"}],"random-seed":[function(e,t){"use strict";cc._RF.push(t,"a0abcm0OIlEU4qe5eC8L3zd","random-seed");var n,o=(n=e("./stringify"))&&n.__esModule?n:{default:n},i=function(){var e=4022871197;return function(t){if(t){t=t.toString();for(var n=0;n<t.length;n++){var o=.02519603282416938*(e+=t.charCodeAt(n));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)}e=4022871197}},r=function(e){return function(){var t,n,r=48,s=1,a=r,c=new Array(r),u=0,l=new i;for(t=0;t<r;t++)c[t]=l(Math.random());var d=function(){++a>=r&&(a=0);var e=1768863*c[a]+2.3283064365386963e-10*s;return c[a]=e-(s=0|e)},h=function(e){return Math.floor(e*(d()+11102230246251565e-32*(2097152*d()|0)))};h.string=function(e){var t,n="";for(t=0;t<e;t++)n+=String.fromCharCode(33+h(94));return n};var f=function(){var e=Array.prototype.slice.call(arguments);for(t=0;t<e.length;t++)for(n=0;n<r;n++)c[n]-=l(e[t]),c[n]<0&&(c[n]+=1)};return h.cleanString=function(e){return(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[\x00-\x1F]/gi,"")).replace(/\n /,"\n")},h.hashString=function(e){for(e=h.cleanString(e),l(e),t=0;t<e.length;t++)for(u=e.charCodeAt(t),n=0;n<r;n++)c[n]-=l(u),c[n]<0&&(c[n]+=1)},h.seed=function(e){null==e&&(e=Math.random()),"string"!=typeof e&&(e=(0,o.default)(e,function(e,t){return"function"==typeof t?t.toString():t})),h.initState(),h.hashString(e)},h.addEntropy=function(){var e=[];for(t=0;t<arguments.length;t++)e.push(arguments[t]);f(u+++(new Date).getTime()+e.join("")+Math.random())},h.initState=function(){for(l(),t=0;t<r;t++)c[t]=l(" ");s=1,a=r},h.done=function(){l=null},void 0!==e&&h.seed(e),h.range=function(e){return h(e)},h.random=function(){return h(Number.MAX_VALUE-1)/Number.MAX_VALUE},h.floatBetween=function(e,t){return h.random()*(t-e)+e},h.intBetween=function(e,t){return Math.floor(h.random()*(t-e+1))+e},h}()};r.create=function(e){return new r(e)},t.exports=r,cc._RF.pop()},{"./stringify":"stringify"}],stringify:[function(e,t){"use strict";function n(e,t){var n=[],o=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,r){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?o.splice(s,1/0,i):o.push(i),~n.indexOf(r)&&(r=t.call(this,i,r))}else n.push(r);return null==e?r:e.call(this,i,r)}}cc._RF.push(t,"a11b323geJKXpVDbewa+COm","stringify"),(t.exports=function(e,t,o,i){return JSON.stringify(e,n(t,i),o)}).getSerialize=n,cc._RF.pop()},{}],sudoku:[function(e,t){"use strict";cc._RF.push(t,"44ff2VVBoFEJ7IrvjI9BnV3","sudoku");var n,o={DIGITS:"123456789"},i=o.DIGITS,r=null,s=null,a=null,c={easy:62,medium:53,hard:44,"very-hard":35,insane:26,inhuman:17};o.BLANK_CHAR=".",o.BLANK_BOARD=".................................................................................",o.generate=function(e,t){"string"!=typeof e&&void 0!==e||(e=c[e]||c.easy),e=o._force_range(e,82,17);for(var n="",i=0;i<81;++i)n+=".";var s=o._get_candidates_map(n),a=o._shuffle(r,t);for(var u in a){var l=a[u],d=o._rand_range(s[l].length,0,t),h=s[l][d];if(!o._assign(s,l,h))break;var f=[];for(var u in r)1==s[l=r[u]].length&&f.push(s[l]);if(f.length>=e&&o._strip_dups(f).length>=8){var g="",_=[];for(var i in r)1==s[l=r[i]].length?(g+=s[l],_.push(i)):g+=o.BLANK_CHAR;var p=_.length;if(p>e)for(_=o._shuffle(_,t),i=0;i<p-e;++i){var m=parseInt(_[i]);g=g.substr(0,m)+o.BLANK_CHAR+g.substr(m+1)}if(o.solve(g))return g}}return o.generate(e,t)},o.solve=function(e,t){var n=o.validate_board(e);if(!0!==n)throw n;var i=0;for(var r in e)e[r]!==o.BLANK_CHAR&&o._in(e[r],o.DIGITS)&&++i;if(i<17)throw"Too few givens. Minimum givens is 17";t=t||!1;var s=o._get_candidates_map(e),a=o._search(s,t);if(a){var c="";for(var u in a)c+=a[u];return c}return!1},o.get_candidates=function(e){var t=o.validate_board(e);if(!0!==t)throw t;var n=o._get_candidates_map(e);if(!n)return!1;var i=[],r=[],s=0;for(var a in n){var c=n[a];r.push(c),s%9==8&&(i.push(r),r=[]),++s}return i},o._get_candidates_map=function(e){var t=o.validate_board(e);if(!0!==t)throw t;var n={},i=o._get_square_vals_map(e);for(var s in r)n[r[s]]=o.DIGITS;for(var a in i){var c=i[a];if(o._in(c,o.DIGITS)&&!o._assign(n,a,c))return!1}return n},o._search=function(e,t){if(!e)return!1;t=t||!1;var n=0;for(var i in r)(u=e[c=r[i]].length)>n&&(n=u);if(1===n)return e;var s=10,a=null;for(i in r){var c,u;(u=e[c=r[i]].length)<s&&u>1&&(s=u,a=c)}var l=e[a];if(t){for(d=l.length-1;d>=0;--d)if(f=l[d],g=JSON.parse(JSON.stringify(e)),h=o._search(o._assign(g,a,f),t))return h}else for(var d in l){var h,f=l[d],g=JSON.parse(JSON.stringify(e));if(h=o._search(o._assign(g,a,f)))return h}return!1},o._assign=function(e,t,n){var i=e[t].replace(n,"");for(var r in i){var s=i[r];if(!o._eliminate(e,t,s))return!1}return e},o._eliminate=function(e,t,n){if(!o._in(n,e[t]))return e;e[t]=e[t].replace(n,"");var i=e[t].length;if(1===i){var r=e[t];for(var c in a[t]){var u=a[t][c];if(!o._eliminate(e,u,r))return!1}}if(0===i)return!1;for(var l in s[t]){var d=s[t][l],h=[];for(var f in d){var g=d[f];o._in(n,e[g])&&h.push(g)}if(0===h.length)return!1;if(1===h.length&&!o._assign(e,h[0],n))return!1}return e},o._get_square_vals_map=function(e){var t={};if(e.length!=r.length)throw"Board/squares length mismatch.";for(var n in r)t[r[n]]=e[n];return t},o._get_square_units_map=function(e,t){var n={};for(var o in e){var i=e[o],r=[];for(var s in t){var a=t[s];-1!==a.indexOf(i)&&r.push(a)}n[i]=r}return n},o._get_square_peers_map=function(e,t){var n={};for(var o in e){var i=e[o],r=t[i],s=[];for(var a in r){var c=r[a];for(var u in c){var l=c[u];-1===s.indexOf(l)&&l!==i&&s.push(l)}}n[i]=s}return n},o._get_all_units=function(e,t){var n=[];for(var i in e)n.push(o._cross(e[i],t));for(var r in t)n.push(o._cross(e,t[r]));var s=["ABC","DEF","GHI"],a=["123","456","789"];for(var c in s)for(var u in a)n.push(o._cross(s[c],a[u]));return n},o.board_string_to_grid=function(e){var t=[],n=[];for(var o in e)n.push(e[o]),o%9==8&&(t.push(n),n=[]);return t},o.board_grid_to_string=function(e){for(var t="",n=0;n<9;++n)for(var o=0;o<9;++o)t+=e[n][o];return t},o.print_board=function(e){var t=o.validate_board(e);if(!0!==t)throw t;var n="";for(var i in e)n+=e[i]+" ",i%3==2&&(n+="  "),i%9==8&&(n+="\n"),i%27==26&&(n+="\n");console.log(n)},o.validate_board=function(e){if(!e)return"Empty board";if(81!==e.length)return"Invalid board size. Board must be exactly 81 squares.";for(var t in e)if(!o._in(e[t],o.DIGITS)&&e[t]!==o.BLANK_CHAR)return"Invalid board character encountered at index "+t+": "+e[t];return!0},o._cross=function(e,t){var n=[];for(var o in e)for(var i in t)n.push(e[o]+t[i]);return n},o._in=function(e,t){return-1!==t.indexOf(e)},o._first_true=function(e){for(var t in e)if(e[t])return e[t];return!1},o._shuffle=function(e,t){for(var n=[],i=0;i<e.length;++i)n.push(!1);for(var i in e){for(var r=o._rand_range(e.length,0,t);n[r];)r=r+1>e.length-1?0:r+1;n[r]=e[i]}return n},o._rand_range=function(e,t,n){if(e)return Math.floor(n.random()*(e-t))+t;throw"Range undefined"},o._strip_dups=function(e){var t=[],n={};for(var o in e){var i=e[o];n[i]||(t.push(i),n[i]=!0)}return t},o._force_range=function(e,t,n){return(e=e||0)<(n=n||0)?n:e>t?t:e},r=o._cross("ABCDEFGHI",i),n=o._get_all_units("ABCDEFGHI",i),s=o._get_square_units_map(r,n),a=o._get_square_peers_map(r,s),t.exports=o,cc._RF.pop()},{}]},{},["Box","DigitInput","StageButton","constants","dataMgr","ingameBoardCtor","ingameInputCtor","ingamePopupCtor","ingameSceneCtor","landingSceneCtor","levelSelectionSceneCtor","helpers","random-seed","stringify","sudoku"]);